{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/deep/eLibrary/screens/signup.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport fire from \"../Firebase\";\nimport \"firebase/firestore\";\nimport { ScrollView } from \"react-native-gesture-handler\";\n\nvar Signup = function (_Component) {\n  _inherits(Signup, _Component);\n\n  var _super = _createSuper(Signup);\n\n  function Signup() {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      email: \"\",\n      username: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n      errorMessage: \"\",\n      errorUsername: 0\n    };\n\n    _this.handlefirebasesignup = function () {\n      if (_this.state.password != _this.state.confirmPassword) {\n        _this.setState({\n          errorMessage: \"Password do not match!\"\n        });\n      } else if (_this.state.email == \"\" || _this.state.username == \"\" || _this.state.password == \"\" || _this.state.username == \"\") {\n        _this.setState({\n          errorMessage: \"Please fill in all the fields!\"\n        });\n      } else if (_this.state.username.length < 7) {\n        _this.setState({\n          errorMessage: \"Username should be at least 7 characters long!\"\n        });\n      } else {\n        fire.auth().createUserWithEmailAndPassword(_this.state.email, _this.state.password).then(function () {\n          fire.firestore().collection(\"USERS\").doc(fire.auth().currentUser.uid.toString()).set({\n            email: _this.state.email,\n            username: _this.state.username\n          });\n        }).then(function () {\n          fire.auth().currentUser.sendEmailVerification();\n        }).then(function () {\n          fire.auth().currentUser.updateProfile({\n            displayName: _this.state.username\n          }).then(function () {\n            Alert.alert(\"User name successfully updated!\");\n          }).catch(function (err) {\n            Alert.alert(err.toString());\n          });\n        }).catch(function (err) {\n          Alert.alert(err.toString());\n        });\n      }\n    };\n\n    _this.handleSignUp = function () {\n      fire.firestore().collection(\"USERS\").where(\"username\", \"==\", _this.state.username).get().then(function (snapshot) {\n        if (snapshot.empty) {\n          return _this.handlefirebasesignup();\n        } else {\n          return _this.setState({\n            errorMessage: \"Username already taken!\"\n          });\n        }\n      }).catch(function (err) {\n        Alert.alert(err.toString());\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Signup, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 7\n        }\n      }, React.createElement(ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          marginLeft: \"10%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 25,\n          marginTop: \"15%\",\n          marginBottom: \"5%\",\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, \"Create an Account\"), React.createElement(Text, {\n        style: {\n          marginVertical: 10,\n          color: \"red\",\n          fontSize: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }\n      }, this.state.errorMessage), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 15\n        }\n      }, \"Email Address\"), React.createElement(TextInput, {\n        style: {\n          height: 40,\n          borderColor: \"white\",\n          borderWidth: 2,\n          borderRadius: 5,\n          marginRight: 100,\n          marginVertical: \"2%\",\n          padding: \"2%\",\n          backgroundColor: \"#272727\",\n          color: \"white\"\n        },\n        placeholder: \"Email\",\n        placeholderTextColor: \"gray\",\n        onChangeText: function onChangeText(val) {\n          _this2.setState({\n            email: val\n          });\n        },\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: {\n          marginVertical: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }\n      }, \"Username\"), React.createElement(TextInput, {\n        style: {\n          height: 40,\n          borderColor: \"white\",\n          borderWidth: 2,\n          borderRadius: 5,\n          marginRight: 100,\n          marginVertical: \"2%\",\n          padding: \"2%\",\n          backgroundColor: \"#272727\",\n          color: \"white\"\n        },\n        placeholder: \"Username\",\n        onChangeText: function onChangeText(val) {\n          _this2.setState({\n            username: val.toLowerCase()\n          });\n        },\n        maxLength: 10,\n        placeholderTextColor: \"gray\",\n        autoCapitalize: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: {\n          marginVertical: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }\n      }, \"Password\"), React.createElement(TextInput, {\n        style: {\n          height: 40,\n          borderColor: \"white\",\n          borderWidth: 2,\n          borderRadius: 5,\n          marginRight: 100,\n          marginVertical: \"2%\",\n          padding: \"2%\",\n          backgroundColor: \"#272727\",\n          color: \"white\"\n        },\n        placeholder: \"Password\",\n        placeholderTextColor: \"gray\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(val) {\n          _this2.setState({\n            password: val\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: {\n          marginVertical: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }\n      }, \"Confirm Password\"), React.createElement(TextInput, {\n        style: {\n          height: 40,\n          borderColor: \"white\",\n          borderWidth: 2,\n          borderRadius: 5,\n          marginRight: 100,\n          marginVertical: \"2%\",\n          padding: \"2%\",\n          backgroundColor: \"#272727\",\n          color: \"white\"\n        },\n        placeholder: \"Password\",\n        secureTextEntry: true,\n        placeholderTextColor: \"gray\",\n        onChangeText: function onChangeText(val) {\n          _this2.setState({\n            confirmPassword: val\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: {\n          marginLeft: \"15%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          backgroundColor: \"#BB86FC\",\n          borderRadius: 5,\n          height: \"23%\",\n          width: \"50%\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          marginVertical: \"7%\"\n        },\n        onPress: this.handleSignUp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 17\n        }\n      }, \"SignUp\"))))));\n    }\n  }]);\n\n  return Signup;\n}(Component);\n\nexport { Signup as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"black\"\n  }\n});","map":{"version":3,"sources":["/home/deep/eLibrary/screens/signup.js"],"names":["React","Component","fire","ScrollView","Signup","state","email","username","password","confirmPassword","errorMessage","errorUsername","handlefirebasesignup","setState","length","auth","createUserWithEmailAndPassword","then","firestore","collection","doc","currentUser","uid","toString","set","sendEmailVerification","updateProfile","displayName","Alert","alert","catch","err","handleSignUp","where","get","snapshot","empty","styles","container","marginLeft","fontWeight","fontSize","marginTop","marginBottom","color","marginVertical","height","borderColor","borderWidth","borderRadius","marginRight","padding","backgroundColor","val","toLowerCase","width","justifyContent","alignItems","StyleSheet","create","flex"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  View,\n  SafeAreaView,\n  Button,\n  TouchableOpacity,\n  Pressable,\n  TextInput,\n  Alert,\n  FlatList,\n} from \"react-native\";\n\nimport fire from \"../Firebase\";\nimport \"firebase/firestore\";\nimport { ScrollView } from \"react-native-gesture-handler\";\n\nexport default class Signup extends Component {\n  state = {\n    email: \"\",\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    errorMessage: \"\",\n    errorUsername: 0,\n  };\n\n  handlefirebasesignup = () => {\n    if (this.state.password != this.state.confirmPassword) {\n      this.setState({\n        errorMessage: \"Password do not match!\",\n      });\n    } else if (\n      this.state.email == \"\" ||\n      this.state.username == \"\" ||\n      this.state.password == \"\" ||\n      this.state.username == \"\"\n    ) {\n      this.setState({\n        errorMessage: \"Please fill in all the fields!\",\n      });\n    } else if (this.state.username.length < 7) {\n      this.setState({\n        errorMessage: \"Username should be at least 7 characters long!\",\n      });\n    } else {\n      fire\n        .auth()\n        .createUserWithEmailAndPassword(this.state.email, this.state.password)\n        .then(() => {\n          fire\n            .firestore()\n            .collection(\"USERS\")\n            .doc(fire.auth().currentUser.uid.toString())\n            .set({\n              email: this.state.email,\n              username: this.state.username,\n            });\n        })\n        .then(() => {\n          fire.auth().currentUser.sendEmailVerification();\n        })\n        .then(() => {\n          fire\n            .auth()\n            .currentUser.updateProfile({\n              displayName: this.state.username,\n            })\n            .then(() => {\n              Alert.alert(\"User name successfully updated!\");\n            })\n            .catch((err) => {\n              Alert.alert(err.toString());\n            });\n        })\n        .catch((err) => {\n          Alert.alert(err.toString());\n        });\n    }\n  };\n\n  handleSignUp = () => {\n    fire\n      .firestore()\n      .collection(\"USERS\")\n      .where(\"username\", \"==\", this.state.username)\n      .get()\n      .then((snapshot) => {\n        if (snapshot.empty) {\n          return this.handlefirebasesignup();\n        } else {\n          return this.setState({\n            errorMessage: \"Username already taken!\",\n          });\n        }\n      })\n      .catch((err) => {\n        Alert.alert(err.toString());\n      });\n  };\n\n  render() {\n    return (\n      <SafeAreaView style={styles.container}>\n        <ScrollView>\n          <View style={{ marginLeft: \"10%\" }}>\n            <Text\n              style={{\n                fontWeight: \"bold\",\n                fontSize: 25,\n                marginTop: \"15%\",\n                marginBottom: \"5%\",\n                color: \"white\",\n              }}\n            >\n              Create an Account\n            </Text>\n            <Text style={{ marginVertical: 10, color: \"red\", fontSize: 15 }}>\n              {this.state.errorMessage}\n            </Text>\n            <View>\n              <Text style={{ fontWeight: \"bold\", color: \"white\" }}>\n                Email Address\n              </Text>\n              <TextInput\n                style={{\n                  height: 40,\n                  borderColor: \"white\",\n                  borderWidth: 2,\n                  borderRadius: 5,\n                  marginRight: 100,\n                  marginVertical: \"2%\",\n                  padding: \"2%\",\n                  backgroundColor: \"#272727\",\n                  color: \"white\",\n                }}\n                placeholder=\"Email\"\n                placeholderTextColor=\"gray\"\n                onChangeText={(val) => {\n                  this.setState({ email: val });\n                }}\n                autoCapitalize=\"none\"\n              ></TextInput>\n            </View>\n            <View style={{ marginVertical: \"5%\" }}>\n              <Text style={{ fontWeight: \"bold\", color: \"white\" }}>\n                Username\n              </Text>\n              <TextInput\n                style={{\n                  height: 40,\n                  borderColor: \"white\",\n                  borderWidth: 2,\n                  borderRadius: 5,\n                  marginRight: 100,\n                  marginVertical: \"2%\",\n                  padding: \"2%\",\n                  backgroundColor: \"#272727\",\n                  color: \"white\",\n                }}\n                placeholder=\"Username\"\n                onChangeText={(val) => {\n                  this.setState({ username: val.toLowerCase() });\n                }}\n                maxLength={10}\n                placeholderTextColor=\"gray\"\n                autoCapitalize=\"none\"\n              ></TextInput>\n            </View>\n            <View style={{ marginVertical: \"5%\" }}>\n              <Text style={{ fontWeight: \"bold\", color: \"white\" }}>\n                Password\n              </Text>\n              <TextInput\n                style={{\n                  height: 40,\n                  borderColor: \"white\",\n                  borderWidth: 2,\n                  borderRadius: 5,\n                  marginRight: 100,\n                  marginVertical: \"2%\",\n                  padding: \"2%\",\n                  backgroundColor: \"#272727\",\n                  color: \"white\",\n                }}\n                placeholder=\"Password\"\n                placeholderTextColor=\"gray\"\n                secureTextEntry={true}\n                onChangeText={(val) => {\n                  this.setState({ password: val });\n                }}\n              ></TextInput>\n            </View>\n            <View style={{ marginVertical: \"5%\" }}>\n              <Text style={{ fontWeight: \"bold\", color: \"white\" }}>\n                Confirm Password\n              </Text>\n              <TextInput\n                style={{\n                  height: 40,\n                  borderColor: \"white\",\n                  borderWidth: 2,\n                  borderRadius: 5,\n                  marginRight: 100,\n                  marginVertical: \"2%\",\n                  padding: \"2%\",\n                  backgroundColor: \"#272727\",\n                  color: \"white\",\n                }}\n                placeholder=\"Password\"\n                secureTextEntry={true}\n                placeholderTextColor=\"gray\"\n                onChangeText={(val) => {\n                  this.setState({ confirmPassword: val });\n                }}\n              ></TextInput>\n            </View>\n            <View style={{ marginLeft: \"15%\" }}>\n              <TouchableOpacity\n                style={{\n                  backgroundColor: \"#BB86FC\",\n                  borderRadius: 5,\n                  height: \"23%\",\n                  width: \"50%\",\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                  marginVertical: \"7%\",\n                }}\n                onPress={this.handleSignUp}\n              >\n                <Text style={{ fontSize: 20 }}>SignUp</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </ScrollView>\n      </SafeAreaView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"black\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}