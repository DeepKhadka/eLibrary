{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/deep/eLibrary/screens/Home.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport fire from \"../Firebase\";\nimport \"firebase/firestore\";\nimport { FloatingAction } from \"react-native-floating-action\";\nimport { Badge } from \"native-base\";\nimport { Container, Header, Content, Spinner, Card, CardItem, Body, Item, Input, Icon } from \"native-base\";\n\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._isMounted = false;\n    _this.state = {\n      username: \"\",\n      loading: true,\n      game: 0,\n      movies: 0,\n      music: 0,\n      books: 0,\n      test: \"\",\n      search: \"\",\n      refreshing: false\n    };\n\n    _this.onRefresh = function () {\n      _this.setState({\n        username: \"\",\n        game: 0,\n        movies: 0,\n        music: 0,\n        books: 0,\n        test: \"\",\n        search: \"\",\n        refreshing: true\n      });\n\n      _this.componentDidMount();\n    };\n\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      fire.auth().onAuthStateChanged(function (user) {\n        if (user != null) {\n          _this2.fetchGameInfo(user);\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"fetchGameInfo\",\n    value: function fetchGameInfo(user) {\n      var _this3 = this;\n\n      fire.firestore().collection(\"USERS\").doc(user.uid.toString()).collection(\"Games\").get().then(function (sub) {\n        if (sub.docs.length > 0) {\n          sub.forEach(function (doc) {\n            if (_this3._isMounted) {\n              _this3.setState({\n                game: _this3.state.game + 1\n              });\n            }\n          });\n        }\n      }).then(this.fetchMoviesInfo(user)).catch(function (err) {\n        Alert.alert(err.toString());\n      });\n    }\n  }, {\n    key: \"fetchMoviesInfo\",\n    value: function fetchMoviesInfo(user) {\n      var _this4 = this;\n\n      fire.firestore().collection(\"USERS\").doc(user.uid.toString()).collection(\"Movies\").get().then(function (sub) {\n        if (sub.docs.length > 0) {\n          sub.forEach(function (doc) {\n            if (_this4._isMounted) {\n              _this4.setState({\n                movies: _this4.state.movies + 1\n              });\n            }\n          });\n        }\n      }).then(this.fetchMusicInfo(user)).catch(function (err) {\n        Alert.alert(err.toString());\n      });\n    }\n  }, {\n    key: \"fetchMusicInfo\",\n    value: function fetchMusicInfo(user) {\n      var _this5 = this;\n\n      fire.firestore().collection(\"USERS\").doc(user.uid.toString()).collection(\"Music\").get().then(function (sub) {\n        if (sub.docs.length > 0) {\n          sub.forEach(function (doc) {\n            if (_this5._isMounted) {\n              _this5.setState({\n                music: _this5.state.music + 1\n              });\n            }\n          });\n        }\n      }).then(this.fetchBooksInfo(user)).catch(function (err) {\n        Alert.alert(err.toString());\n      });\n    }\n  }, {\n    key: \"fetchBooksInfo\",\n    value: function fetchBooksInfo(user) {\n      var _this6 = this;\n\n      fire.firestore().collection(\"USERS\").doc(user.uid.toString()).collection(\"Books\").get().then(function (sub) {\n        if (sub.docs.length > 0) {\n          sub.forEach(function (doc) {\n            if (_this6._isMounted) {\n              _this6.setState({\n                books: _this6.state.books + 1,\n                loading: false,\n                refreshing: false\n              });\n            }\n          });\n        } else {\n          if (_this6._isMounted) {\n            _this6.setState({\n              loading: false,\n              refreshing: false\n            });\n          }\n        }\n      }).catch(function (err) {\n        Alert.alert(err.toString());\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var actions = [{\n        text: \"Manual Entry\",\n        icon: require(\"../icons/add.png\"),\n        name: \"bt_manual_entry\",\n        position: 1,\n        color: \"#BB86FC\"\n      }, {\n        text: \"Barcode Entry\",\n        icon: require(\"../icons/barcode.png\"),\n        name: \"bt_barcode_entry\",\n        position: 2,\n        color: \"#BB86FC\"\n      }];\n      return this.state.loading ? React.createElement(Container, {\n        style: {\n          backgroundColor: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 7\n        }\n      }, React.createElement(Content, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }\n      }, React.createElement(Spinner, {\n        color: \"green\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }\n      }))) : React.createElement(ScrollView, {\n        refreshControl: React.createElement(RefreshControl, {\n          refreshing: this.state.refreshing,\n          onRefresh: this.onRefresh,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 11\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 7\n        }\n      }, React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 9\n        }\n      }, React.createElement(Header, {\n        searchBar: true,\n        rounded: true,\n        autoCorrect: false,\n        style: {\n          justifyContent: \"flex-start\",\n          alignItems: \"center\",\n          backgroundColor: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }\n      }, React.createElement(Icon, {\n        name: \"menu\",\n        onPress: function onPress() {\n          _this7.props.navigation.openDrawer();\n        },\n        style: {\n          fontSize: 35,\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: {\n          marginHorizontal: \"1%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }\n      }), React.createElement(Item, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }\n      }, React.createElement(Icon, {\n        name: \"ios-people\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }\n      }), React.createElement(Input, {\n        placeholder: \"Search friends by username\",\n        onChangeText: function onChangeText(val) {\n          _this7.setState({\n            search: val\n          });\n        },\n        autoCapitalize: \"none\",\n        returnKeyType: \"search\",\n        onSubmitEditing: function onSubmitEditing() {\n          _this7.props.navigation.navigate(\"Search\", {\n            uname: _this7.state.search.trim()\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 15\n        }\n      }), React.createElement(Icon, {\n        name: \"ios-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 15\n        }\n      }))), this.state.refreshing ? React.createElement(Container, {\n        style: {\n          backgroundColor: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }\n      }, React.createElement(Content, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 15\n        }\n      }, React.createElement(Spinner, {\n        color: \"green\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 17\n        }\n      }))) : React.createElement(View, {\n        style: {\n          backgroundColor: \"black\",\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 20,\n          fontWeight: \"bold\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 17\n        }\n      }, \"Dashboard\")), React.createElement(View, {\n        style: {\n          flex: 12\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          flexDirection: \"row\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        onPress: function onPress() {\n          _this7.props.navigation.navigate(\"Library\", {\n            dbName: \"Games\"\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 19\n        }\n      }, React.createElement(View, {\n        style: {\n          height: \"50%\",\n          width: \"80%\",\n          backgroundColor: \"#272727\",\n          borderRadius: 15,\n          alignItems: \"center\",\n          justifyContent: \"space-evenly\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 21\n        }\n      }, React.createElement(Badge, {\n        danger: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 23\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 25\n        }\n      }, this.state.game)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 23\n        }\n      }), React.createElement(Image, {\n        source: require(\"../assets/game.png\"),\n        style: {\n          marginTop: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 23\n        }\n      }), React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 25,\n          fontWeight: \"bold\",\n          marginVertical: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 23\n        }\n      }, \"Games\"))), React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        onPress: function onPress() {\n          _this7.props.navigation.navigate(\"Library\", {\n            dbName: \"Movies\"\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 19\n        }\n      }, React.createElement(View, {\n        style: {\n          height: \"50%\",\n          width: \"80%\",\n          backgroundColor: \"#272727\",\n          borderRadius: 15,\n          alignItems: \"center\",\n          justifyContent: \"space-evenly\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 21\n        }\n      }, React.createElement(Badge, {\n        danger: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 23\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 25\n        }\n      }, this.state.movies)), React.createElement(Image, {\n        source: require(\"../assets/movies.png\"),\n        style: {\n          marginTop: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 23\n        }\n      }), React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 25,\n          fontWeight: \"bold\",\n          marginVertical: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 23\n        }\n      }, \"Movies\")))), React.createElement(View, {\n        style: {\n          flex: 1,\n          flexDirection: \"row\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          alignItems: \"center\"\n        },\n        onPress: function onPress() {\n          _this7.props.navigation.navigate(\"Library\", {\n            dbName: \"Music\"\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 19\n        }\n      }, React.createElement(View, {\n        style: {\n          height: \"50%\",\n          width: \"80%\",\n          backgroundColor: \"#272727\",\n          borderRadius: 15,\n          alignItems: \"center\",\n          justifyContent: \"space-evenly\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 21\n        }\n      }, React.createElement(Badge, {\n        danger: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 23\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 25\n        }\n      }, this.state.music)), React.createElement(Image, {\n        source: require(\"../assets/music.png\"),\n        style: {\n          marginTop: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 23\n        }\n      }), React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 25,\n          fontWeight: \"bold\",\n          marginVertical: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 23\n        }\n      }, \"Music\"))), React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          alignItems: \"center\"\n        },\n        onPress: function onPress() {\n          _this7.props.navigation.navigate(\"Library\", {\n            dbName: \"Books\"\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 19\n        }\n      }, React.createElement(View, {\n        style: {\n          height: \"50%\",\n          width: \"80%\",\n          backgroundColor: \"#272727\",\n          borderRadius: 15,\n          alignItems: \"center\",\n          justifyContent: \"space-evenly\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 21\n        }\n      }, React.createElement(Badge, {\n        danger: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 23\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 25\n        }\n      }, this.state.books)), React.createElement(Image, {\n        source: require(\"../assets/books.png\"),\n        style: {\n          marginTop: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 23\n        }\n      }), React.createElement(Text, {\n        style: {\n          color: \"white\",\n          fontSize: 25,\n          fontWeight: \"bold\",\n          marginVertical: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 23\n        }\n      }, \"Books\")))))), React.createElement(FloatingAction, {\n        actions: actions,\n        color: \"#BB86FC\",\n        onPressItem: function onPressItem(name) {\n          name == \"bt_manual_entry\" ? _this7.props.navigation.navigate(\"Add to your Library\") : _this7.props.navigation.navigate(\"Scan\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport { Home as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"sources":["/home/deep/eLibrary/screens/Home.js"],"names":["React","Component","fire","FloatingAction","Badge","Container","Header","Content","Spinner","Card","CardItem","Body","Item","Input","Icon","Home","_isMounted","state","username","loading","game","movies","music","books","test","search","refreshing","onRefresh","setState","componentDidMount","auth","onAuthStateChanged","user","fetchGameInfo","firestore","collection","doc","uid","toString","get","then","sub","docs","length","forEach","fetchMoviesInfo","catch","err","Alert","alert","fetchMusicInfo","fetchBooksInfo","actions","text","icon","require","name","position","color","backgroundColor","justifyContent","alignItems","props","navigation","openDrawer","fontSize","marginHorizontal","val","navigate","uname","trim","flex","fontWeight","flexDirection","dbName","height","width","borderRadius","marginTop","marginVertical","styles","StyleSheet","create","container"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Alert,\n  StyleSheet,\n  Text,\n  View,\n  TouchableOpacity,\n  Image,\n  ScrollView,\n  KeyboardAvoidingView,\n  RefreshControl,\n  StatusBar,\n} from \"react-native\";\nimport fire from \"../Firebase\";\nimport \"firebase/firestore\";\nimport { FloatingAction } from \"react-native-floating-action\";\nimport { Badge } from \"native-base\";\n\nimport {\n  Container,\n  Header,\n  Content,\n  Spinner,\n  Card,\n  CardItem,\n  Body,\n  Item,\n  Input,\n  Icon,\n} from \"native-base\";\n\nexport default class Home extends Component {\n  _isMounted = false;\n  state = {\n    username: \"\",\n    loading: true,\n    game: 0,\n    movies: 0,\n    music: 0,\n    books: 0,\n    test: \"\",\n    search: \"\",\n    refreshing: false,\n  };\n\n  componentDidMount() {\n    this._isMounted = true;\n    fire.auth().onAuthStateChanged((user) => {\n      if (user != null) {\n        this.fetchGameInfo(user);\n      }\n    });\n  }\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  fetchGameInfo(user) {\n    fire\n      .firestore()\n      .collection(\"USERS\")\n      .doc(user.uid.toString())\n      .collection(\"Games\")\n      .get()\n      .then((sub) => {\n        if (sub.docs.length > 0) {\n          sub.forEach((doc) => {\n            if (this._isMounted) {\n              this.setState({\n                game: this.state.game + 1,\n              });\n            }\n          });\n        }\n      })\n      .then(this.fetchMoviesInfo(user))\n      .catch((err) => {\n        Alert.alert(err.toString());\n      });\n  }\n\n  fetchMoviesInfo(user) {\n    fire\n      .firestore()\n      .collection(\"USERS\")\n      .doc(user.uid.toString())\n      .collection(\"Movies\")\n      .get()\n      .then((sub) => {\n        if (sub.docs.length > 0) {\n          sub.forEach((doc) => {\n            if (this._isMounted) {\n              this.setState({\n                movies: this.state.movies + 1,\n              });\n            }\n          });\n        }\n      })\n      .then(this.fetchMusicInfo(user))\n      .catch((err) => {\n        Alert.alert(err.toString());\n      });\n  }\n  fetchMusicInfo(user) {\n    fire\n      .firestore()\n      .collection(\"USERS\")\n      .doc(user.uid.toString())\n      .collection(\"Music\")\n      .get()\n      .then((sub) => {\n        if (sub.docs.length > 0) {\n          sub.forEach((doc) => {\n            if (this._isMounted) {\n              this.setState({\n                music: this.state.music + 1,\n              });\n            }\n          });\n        }\n      })\n      .then(this.fetchBooksInfo(user))\n      .catch((err) => {\n        Alert.alert(err.toString());\n      });\n  }\n\n  fetchBooksInfo(user) {\n    fire\n      .firestore()\n      .collection(\"USERS\")\n      .doc(user.uid.toString())\n      .collection(\"Books\")\n      .get()\n      .then((sub) => {\n        if (sub.docs.length > 0) {\n          sub.forEach((doc) => {\n            if (this._isMounted) {\n              this.setState({\n                books: this.state.books + 1,\n                loading: false,\n                refreshing: false,\n              });\n            }\n          });\n        } else {\n          if (this._isMounted) {\n            this.setState({\n              loading: false,\n              refreshing: false,\n            });\n          }\n        }\n      })\n\n      .catch((err) => {\n        Alert.alert(err.toString());\n      });\n  }\n  onRefresh = () => {\n    this.setState({\n      username: \"\",\n\n      game: 0,\n      movies: 0,\n      music: 0,\n      books: 0,\n      test: \"\",\n      search: \"\",\n      refreshing: true,\n    });\n    this.componentDidMount();\n  };\n\n  render() {\n    const actions = [\n      {\n        text: \"Manual Entry\",\n        icon: require(\"../icons/add.png\"),\n        name: \"bt_manual_entry\",\n        position: 1,\n        color: \"#BB86FC\",\n      },\n      {\n        text: \"Barcode Entry\",\n        icon: require(\"../icons/barcode.png\"),\n        name: \"bt_barcode_entry\",\n        position: 2,\n        color: \"#BB86FC\",\n      },\n    ];\n    return this.state.loading ? (\n      <Container style={{ backgroundColor: \"black\" }}>\n        <Content>\n          <Spinner color=\"green\" />\n        </Content>\n      </Container>\n    ) : (\n      <ScrollView\n        refreshControl={\n          <RefreshControl\n            refreshing={this.state.refreshing}\n            onRefresh={this.onRefresh}\n          />\n        }\n      >\n        <Container>\n          <Header\n            searchBar\n            rounded\n            autoCorrect={false}\n            style={{\n              justifyContent: \"flex-start\",\n              alignItems: \"center\",\n              backgroundColor: \"black\",\n            }}\n          >\n            <Icon\n              name=\"menu\"\n              onPress={() => {\n                this.props.navigation.openDrawer();\n              }}\n              style={{ fontSize: 35, color: \"white\" }}\n            />\n            <View style={{ marginHorizontal: \"1%\" }}></View>\n            <Item>\n              <Icon name=\"ios-people\" />\n              <Input\n                placeholder=\"Search friends by username\"\n                onChangeText={(val) => {\n                  this.setState({\n                    search: val,\n                  });\n                }}\n                autoCapitalize=\"none\"\n                returnKeyType=\"search\"\n                onSubmitEditing={() => {\n                  this.props.navigation.navigate(\"Search\", {\n                    uname: this.state.search.trim(),\n                  });\n                }}\n              />\n              <Icon name=\"ios-search\" />\n            </Item>\n          </Header>\n\n          {this.state.refreshing ? (\n            <Container style={{ backgroundColor: \"black\" }}>\n              <Content>\n                <Spinner color=\"green\" />\n              </Content>\n            </Container>\n          ) : (\n            <View style={{ backgroundColor: \"black\", flex: 1 }}>\n              <View\n                style={{\n                  flex: 1,\n\n                  justifyContent: \"center\",\n                  alignItems: \"center\",\n                }}\n              >\n                <Text\n                  style={{ color: \"white\", fontSize: 20, fontWeight: \"bold\" }}\n                >\n                  Dashboard\n                </Text>\n              </View>\n              <View style={{ flex: 12 }}>\n                <View style={{ flex: 1, flexDirection: \"row\" }}>\n                  <TouchableOpacity\n                    style={{\n                      flex: 1,\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                    }}\n                    onPress={() => {\n                      this.props.navigation.navigate(\"Library\", {\n                        dbName: \"Games\",\n                      });\n                    }}\n                  >\n                    <View\n                      style={{\n                        height: \"50%\",\n                        width: \"80%\",\n                        backgroundColor: \"#272727\",\n                        borderRadius: 15,\n                        alignItems: \"center\",\n                        justifyContent: \"space-evenly\",\n                      }}\n                    >\n                      <Badge danger>\n                        <Text style={{ color: \"white\", fontSize: 15 }}>\n                          {this.state.game}\n                        </Text>\n                      </Badge>\n\n                      <View></View>\n                      <Image\n                        source={require(\"../assets/game.png\")}\n                        style={{ marginTop: \"5%\" }}\n                      />\n                      <Text\n                        style={{\n                          color: \"white\",\n                          fontSize: 25,\n                          fontWeight: \"bold\",\n                          marginVertical: \"5%\",\n                        }}\n                      >\n                        Games\n                      </Text>\n                    </View>\n                  </TouchableOpacity>\n                  <TouchableOpacity\n                    style={{\n                      flex: 1,\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                    }}\n                    onPress={() => {\n                      this.props.navigation.navigate(\"Library\", {\n                        dbName: \"Movies\",\n                      });\n                    }}\n                  >\n                    <View\n                      style={{\n                        height: \"50%\",\n                        width: \"80%\",\n                        backgroundColor: \"#272727\",\n                        borderRadius: 15,\n                        alignItems: \"center\",\n                        justifyContent: \"space-evenly\",\n                      }}\n                    >\n                      <Badge danger>\n                        <Text style={{ color: \"white\", fontSize: 15 }}>\n                          {this.state.movies}\n                        </Text>\n                      </Badge>\n                      <Image\n                        source={require(\"../assets/movies.png\")}\n                        style={{ marginTop: \"5%\" }}\n                      />\n                      <Text\n                        style={{\n                          color: \"white\",\n                          fontSize: 25,\n                          fontWeight: \"bold\",\n                          marginVertical: \"5%\",\n                        }}\n                      >\n                        Movies\n                      </Text>\n                    </View>\n                  </TouchableOpacity>\n                </View>\n                <View style={{ flex: 1, flexDirection: \"row\" }}>\n                  <TouchableOpacity\n                    style={{\n                      flex: 1,\n\n                      alignItems: \"center\",\n                    }}\n                    onPress={() => {\n                      this.props.navigation.navigate(\"Library\", {\n                        dbName: \"Music\",\n                      });\n                    }}\n                  >\n                    <View\n                      style={{\n                        height: \"50%\",\n                        width: \"80%\",\n                        backgroundColor: \"#272727\",\n                        borderRadius: 15,\n                        alignItems: \"center\",\n                        justifyContent: \"space-evenly\",\n                      }}\n                    >\n                      <Badge danger>\n                        <Text style={{ color: \"white\", fontSize: 15 }}>\n                          {this.state.music}\n                        </Text>\n                      </Badge>\n                      <Image\n                        source={require(\"../assets/music.png\")}\n                        style={{ marginTop: \"5%\" }}\n                      />\n                      <Text\n                        style={{\n                          color: \"white\",\n                          fontSize: 25,\n                          fontWeight: \"bold\",\n                          marginVertical: \"5%\",\n                        }}\n                      >\n                        Music\n                      </Text>\n                    </View>\n                  </TouchableOpacity>\n                  <TouchableOpacity\n                    style={{\n                      flex: 1,\n                      alignItems: \"center\",\n                    }}\n                    onPress={() => {\n                      this.props.navigation.navigate(\"Library\", {\n                        dbName: \"Books\",\n                      });\n                    }}\n                  >\n                    <View\n                      style={{\n                        height: \"50%\",\n                        width: \"80%\",\n                        backgroundColor: \"#272727\",\n                        borderRadius: 15,\n                        alignItems: \"center\",\n                        justifyContent: \"space-evenly\",\n                      }}\n                    >\n                      <Badge danger>\n                        <Text style={{ color: \"white\", fontSize: 15 }}>\n                          {this.state.books}\n                        </Text>\n                      </Badge>\n                      <Image\n                        source={require(\"../assets/books.png\")}\n                        style={{ marginTop: \"5%\" }}\n                      />\n                      <Text\n                        style={{\n                          color: \"white\",\n                          fontSize: 25,\n                          fontWeight: \"bold\",\n                          marginVertical: \"5%\",\n                        }}\n                      >\n                        Books\n                      </Text>\n                    </View>\n                  </TouchableOpacity>\n                </View>\n              </View>\n            </View>\n          )}\n\n          <FloatingAction\n            actions={actions}\n            color=\"#BB86FC\"\n            onPressItem={(name) => {\n              name == \"bt_manual_entry\"\n                ? this.props.navigation.navigate(\"Add to your Library\")\n                : this.props.navigation.navigate(\"Scan\");\n            }}\n          />\n        </Container>\n      </ScrollView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}