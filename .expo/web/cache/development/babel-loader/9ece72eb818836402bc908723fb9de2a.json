{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/deep/eLibrary/App.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useState, useEffect, Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { createMaterialTopTabNavigator } from \"@react-navigation/material-top-tabs\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\nimport { Button } from \"native-base\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome5\";\nimport Home from \"./screens/Home\";\nimport LoginSignup from \"./screens/LoginSignup\";\nimport Login from \"./screens/login\";\nimport Signup from \"./screens/signup\";\nimport ForgotPassword from \"./screens/forgotpassword\";\nimport Games from \"./screens/Games\";\nimport Movies from \"./screens/Movies\";\nimport Music from \"./screens/Music\";\nimport Books from \"./screens/Books\";\nimport Library from \"./screens/library\";\nimport { DrawerContent } from \"./screens/DrawerContent\";\nimport Search from \"./screens/search\";\nimport Requests from \"./screens/requests\";\nimport Friends from \"./screens/friends\";\nimport Profile from \"./screens/profile\";\nimport fire from \"./Firebase\";\nimport { LogBox } from \"react-native-web/dist/index\";\nimport _ from \"lodash\";\nimport { Text } from \"react-native-paper\";\nLogBox.ignoreLogs([\"Setting a timer\"]);\n\nvar _console = _.clone(console);\n\nconsole.warn = function (message) {\n  if (message.indexOf(\"Setting a timer\") <= -1) {\n    _console.warn(message);\n  }\n};\n\nvar Stack = createStackNavigator();\nvar DrawerNav = createDrawerNavigator();\nvar MaterialTopTabs = createMaterialTopTabNavigator();\n\nhandleSignout = function handleSignout() {\n  fire.auth().signOut();\n};\n\nhandleDeleteAccount = function handleDeleteAccount() {\n  fire.auth().currentUser.delete().then(function () {}).catch(function (err) {\n    Alert.alert(err.toString());\n  });\n};\n\nfunction ScanScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasPermission = _useState2[0],\n      setHasPermission = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      scanned = _useState4[0],\n      setScanned = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      dataSource = _useState6[0],\n      setDataSource = _useState6[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$BarCodeScanner, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(BarCodeScanner.requestPermissionsAsync());\n\n            case 2:\n              _await$BarCodeScanner = _context.sent;\n              status = _await$BarCodeScanner.status;\n              setHasPermission(status === \"granted\");\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var handleBook = function handleBook(book) {\n    navigation.navigate(\"Add to your Library\", {\n      screen: \"Books\",\n      params: {\n        title: book.title\n      }\n    });\n  };\n\n  var handleMovie = function handleMovie(movie) {\n    navigation.navigate(\"Add to your Library\", {\n      screen: \"Movies\",\n      params: {\n        title: movie.title\n      }\n    });\n  };\n\n  var handleMusic = function handleMusic(music) {\n    navigation.navigate(\"Add to your Library\", {\n      screen: \"Music\",\n      params: {\n        title: music.title\n      }\n    });\n  };\n\n  var handleGame = function handleGame(game) {\n    var platform = \"\";\n\n    if (game.title.indexOf(\"PlayStation 4\") >= 0 || game.title.indexOf(\"PS4\") >= 0) {\n      platform = \"PlayStation 4\";\n    } else if (game.title.indexOf(\"PlayStation 3\") >= 0 || game.title.indexOf(\"PS3\") >= 0) {\n      platform = \"PlayStation 3\";\n    } else if (game.title.indexOf(\"Xbox One\") >= 0) {\n      platform = \"Xbox One\";\n    } else if (game.title.indexOf(\"Xbox 360\") >= 0) {\n      platform = \"Xbox 360\";\n    } else if (game.title.indexOf(\"Nintendo Switch\") >= 0) {\n      platform = \"Nintendo Switch\";\n    } else if (game.title.indexOf(\"PlayStation Vita\") >= 0) {\n      platform = \"PlayStation Vita\";\n    } else if (game.title.indexOf(\"PC\") >= 0) {\n      platform = \"PC\";\n    }\n\n    navigation.navigate(\"Add to your Library\", {\n      screen: \"Games\",\n      params: {\n        title: game.title,\n        brand: game.brand,\n        platform: platform\n      }\n    });\n  };\n\n  var handleBarCodeScanned = function handleBarCodeScanned(_ref2) {\n    var type, data, x, api;\n    return _regeneratorRuntime.async(function handleBarCodeScanned$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            type = _ref2.type, data = _ref2.data;\n            setScanned(true);\n            api = \"https://api.upcitemdb.com/prod/trial/lookup?upc=\" + data.trim();\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(fetch(api).then(function (response) {\n              return response.json();\n            }).then(function (responseJson) {\n              responseJson.items.forEach(function (element) {\n                x = element;\n              });\n            }).then(function () {\n              if (x.category.indexOf(\"Books\") >= 0 || x.category.indexOf(\"Book\") >= 0) {\n                handleBook(x);\n              } else if (x.category.indexOf(\"Video Game\") >= 0 || x.category.indexOf(\"Games\") >= 0 || x.category.indexOf(\"Game\") >= 0) {\n                handleGame(x);\n              } else if (x.category.indexOf(\"Televisions\") >= 0) {\n                handleMovie(x);\n              } else if (x.category.indexOf(\"Music\") >= 0) {\n                handleMusic(x);\n              } else {\n                Alert.alert(\"Illegal item scanned\");\n                navigation.goBack();\n              }\n            }).catch(function (error) {\n              console.log(error);\n              Alert.alert(\"You've reached the daily scan limit of 100 items. Scan at a later time.\");\n              navigation.goBack();\n            }));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  if (hasPermission === null) {\n    return React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 12\n      }\n    }, \"Requesting for camera permission\");\n  }\n\n  if (hasPermission === false) {\n    return React.createElement(Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 12\n      }\n    }, \"No access to camera\");\n  }\n\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: \"column\",\n      justifyContent: \"flex-end\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 5\n    }\n  }, React.createElement(BarCodeScanner, {\n    onBarCodeScanned: scanned ? undefined : handleBarCodeScanned,\n    style: StyleSheet.absoluteFillObject,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }), scanned && React.createElement(Button, {\n    title: \"Tap to Scan Again\",\n    onPress: function onPress() {\n      return setScanned(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  }), scanned && React.createElement(Button, {\n    title: \"Continue\",\n    onPress: function onPress() {\n      return navigation.navigate(\"Home\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }));\n}\n\nfunction drawer() {\n  var _this = this;\n\n  return React.createElement(DrawerNav.Navigator, {\n    drawerContent: function drawerContent(props) {\n      return React.createElement(DrawerContent, _extends({}, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 33\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 5\n    }\n  }, React.createElement(DrawerNav.Screen, {\n    name: \"Home\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction addItemsManuallyStack() {\n  var _this2 = this;\n\n  return React.createElement(MaterialTopTabs.Navigator, {\n    tabBarOptions: {\n      style: {\n        backgroundColor: \"#272727\"\n      },\n      showIcon: true,\n      activeTintColor: \"#BB86FC\",\n      inactiveTintColor: \"white\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 5\n    }\n  }, React.createElement(MaterialTopTabs.Screen, {\n    name: \"Games\",\n    component: Games,\n    initialParams: {\n      title: \"\",\n      brand: \"\",\n      platform: \"\"\n    },\n    options: {\n      tabBarIcon: function tabBarIcon(_ref3) {\n        var color = _ref3.color;\n        return React.createElement(FontAwesome, {\n          name: \"gamepad\",\n          size: 19,\n          color: color,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }), React.createElement(MaterialTopTabs.Screen, {\n    name: \"Movies\",\n    component: Movies,\n    initialParams: {\n      title: \"\"\n    },\n    options: {\n      tabBarIcon: function tabBarIcon(_ref4) {\n        var color = _ref4.color;\n        return React.createElement(FontAwesome, {\n          name: \"film\",\n          size: 19,\n          color: color,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }\n  }), React.createElement(MaterialTopTabs.Screen, {\n    name: \"Music\",\n    component: Music,\n    initialParams: {\n      title: \"\"\n    },\n    options: {\n      tabBarIcon: function tabBarIcon(_ref5) {\n        var color = _ref5.color;\n        return React.createElement(FontAwesome, {\n          name: \"music\",\n          size: 19,\n          color: color,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }), React.createElement(MaterialTopTabs.Screen, {\n    name: \"Books\",\n    component: Books,\n    initialParams: {\n      title: \"\"\n    },\n    options: {\n      tabBarIcon: function tabBarIcon(_ref6) {\n        var color = _ref6.color;\n        return React.createElement(FontAwesome, {\n          name: \"book\",\n          size: 19,\n          color: color,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }\n        });\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction homeStack() {\n  return React.createElement(NavigationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 5\n    }\n  }, React.createElement(Stack.Navigator, {\n    screenOptions: {\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Home\",\n    children: drawer,\n    options: {\n      headerShown: false,\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Add to your Library\",\n    children: addItemsManuallyStack,\n    options: {\n      headerTintColor: \"#ffffff\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Library\",\n    component: Library,\n    options: {\n      headerTintColor: \"#ffffff\",\n      headerShown: false,\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Scan\",\n    component: ScanScreen,\n    options: {\n      headerTintColor: \"#ffffff\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Search\",\n    component: Search,\n    options: {\n      headerTintColor: \"#ffffff\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Friend Requests\",\n    component: Requests,\n    options: {\n      headerTintColor: \"#ffffff\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Friends\",\n    component: Friends,\n    options: {\n      headerTintColor: \"#ffffff\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Profile\",\n    component: Profile,\n    initialParams: {\n      ID: \"\"\n    },\n    options: {\n      headerTintColor: \"#ffffff\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 9\n    }\n  })));\n}\n\nfunction loginStack() {\n  return React.createElement(NavigationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 5\n    }\n  }, React.createElement(Stack.Navigator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }\n  }, React.createElement(Stack.Screen, {\n    options: {\n      headerTitle: \"Welcome\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      },\n      headerTintColor: \"#ffffff\",\n      headerTitleStyle: {\n        alignSelf: \"center\"\n      }\n    },\n    name: \"LoginSignup\",\n    component: LoginSignup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    options: {\n      headerTitle: \"LOGIN\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      },\n      headerTintColor: \"#ffffff\"\n    },\n    name: \"Login\",\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    options: {\n      headerTitle: \"SIGNUP\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      },\n      headerTintColor: \"#ffffff\"\n    },\n    name: \"Signup\",\n    component: Signup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 9\n    }\n  }), React.createElement(Stack.Screen, {\n    options: {\n      headerTitle: \"Forgot Password\",\n      headerStyle: {\n        backgroundColor: \"#272727\"\n      },\n      headerTintColor: \"#ffffff\"\n    },\n    name: \"ForgotPassword\",\n    component: ForgotPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 9\n    }\n  })));\n}\n\nvar App = function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this3;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this3 = _super.call.apply(_super, [this].concat(args));\n    _this3.state = {\n      user: {}\n    };\n    return _this3;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this4 = this;\n\n      fire.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          _this4.setState({\n            user: user\n          });\n        } else {\n          _this4.setState({\n            user: null\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.user) {\n        return homeStack();\n      } else {\n        return loginStack();\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});\nvar styles_1 = StyleSheet.create({\n  drawerContent: {\n    flex: 1\n  },\n  userInfoSection: {\n    paddingLeft: 20\n  },\n  title: {\n    fontSize: 16,\n    marginTop: 3,\n    fontWeight: \"bold\"\n  },\n  caption: {\n    fontSize: 14,\n    lineHeight: 14\n  },\n  row: {\n    marginTop: 20,\n    flexDirection: \"row\",\n    alignItems: \"center\"\n  },\n  section: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginRight: 15\n  },\n  paragraph: {\n    fontWeight: \"bold\",\n    marginRight: 3\n  },\n  drawerSection: {\n    marginTop: 15\n  },\n  bottomDrawerSection: {\n    marginBottom: 15,\n    borderTopColor: \"#f4f4f4\",\n    borderTopWidth: 1\n  },\n  preference: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingVertical: 12,\n    paddingHorizontal: 16\n  }\n});","map":{"version":3,"sources":["/home/deep/eLibrary/App.js"],"names":["React","useState","useEffect","Component","NavigationContainer","createStackNavigator","createMaterialTopTabNavigator","createDrawerNavigator","BarCodeScanner","Button","FontAwesome","Home","LoginSignup","Login","Signup","ForgotPassword","Games","Movies","Music","Books","Library","DrawerContent","Search","Requests","Friends","Profile","fire","LogBox","_","Text","ignoreLogs","_console","clone","console","warn","message","indexOf","Stack","DrawerNav","MaterialTopTabs","handleSignout","auth","signOut","handleDeleteAccount","currentUser","delete","then","catch","err","Alert","alert","toString","ScanScreen","navigation","hasPermission","setHasPermission","scanned","setScanned","dataSource","setDataSource","requestPermissionsAsync","status","handleBook","book","navigate","screen","params","title","handleMovie","movie","handleMusic","music","handleGame","game","platform","brand","handleBarCodeScanned","type","data","api","trim","fetch","response","json","responseJson","items","forEach","element","x","category","goBack","error","log","flex","flexDirection","justifyContent","undefined","StyleSheet","absoluteFillObject","drawer","props","addItemsManuallyStack","style","backgroundColor","showIcon","activeTintColor","inactiveTintColor","tabBarIcon","color","homeStack","headerStyle","headerShown","headerTintColor","ID","loginStack","headerTitle","headerTitleStyle","alignSelf","App","state","user","onAuthStateChanged","setState","styles","create","container","alignItems","styles_1","drawerContent","userInfoSection","paddingLeft","fontSize","marginTop","fontWeight","caption","lineHeight","row","section","marginRight","paragraph","drawerSection","bottomDrawerSection","marginBottom","borderTopColor","borderTopWidth","preference","paddingVertical","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component } from \"react\";\nimport { StyleSheet, View, Alert } from \"react-native\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { createMaterialTopTabNavigator } from \"@react-navigation/material-top-tabs\";\nimport { createDrawerNavigator } from \"@react-navigation/drawer\";\nimport { BarCodeScanner } from \"expo-barcode-scanner\";\nimport { Button } from \"native-base\";\nimport FontAwesome from \"react-native-vector-icons/FontAwesome5\";\n\nimport Home from \"./screens/Home\";\nimport LoginSignup from \"./screens/LoginSignup\";\nimport Login from \"./screens/login\";\nimport Signup from \"./screens/signup\";\nimport ForgotPassword from \"./screens/forgotpassword\";\nimport Games from \"./screens/Games\";\nimport Movies from \"./screens/Movies\";\nimport Music from \"./screens/Music\";\nimport Books from \"./screens/Books\";\nimport Library from \"./screens/library\";\nimport { DrawerContent } from \"./screens/DrawerContent\";\nimport Search from \"./screens/search\";\nimport Requests from \"./screens/requests\";\nimport Friends from \"./screens/friends\";\nimport Profile from \"./screens/profile\";\n\nimport fire from \"./Firebase\";\nimport { LogBox } from \"react-native\";\nimport _ from \"lodash\";\n\nimport { Text } from \"react-native-paper\";\n\nLogBox.ignoreLogs([\"Setting a timer\"]);\nconst _console = _.clone(console);\nconsole.warn = (message) => {\n  if (message.indexOf(\"Setting a timer\") <= -1) {\n    _console.warn(message);\n  }\n};\n\nconst Stack = createStackNavigator();\nconst DrawerNav = createDrawerNavigator();\nconst MaterialTopTabs = createMaterialTopTabNavigator();\n\nhandleSignout = () => {\n  fire.auth().signOut();\n};\n\nhandleDeleteAccount = () => {\n  fire\n    .auth()\n    .currentUser.delete()\n    .then(() => {})\n    .catch((err) => {\n      Alert.alert(err.toString());\n    });\n};\n\nfunction ScanScreen({ navigation }) {\n  const [hasPermission, setHasPermission] = useState(null);\n  const [scanned, setScanned] = useState(false);\n  const [dataSource, setDataSource] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const { status } = await BarCodeScanner.requestPermissionsAsync();\n      setHasPermission(status === \"granted\");\n    })();\n  }, []);\n\n  const handleBook = (book) => {\n    navigation.navigate(\"Add to your Library\", {\n      screen: \"Books\",\n      params: { title: book.title },\n    });\n  };\n\n  const handleMovie = (movie) => {\n    navigation.navigate(\"Add to your Library\", {\n      screen: \"Movies\",\n      params: { title: movie.title },\n    });\n  };\n\n  const handleMusic = (music) => {\n    navigation.navigate(\"Add to your Library\", {\n      screen: \"Music\",\n      params: { title: music.title },\n    });\n  };\n\n  const handleGame = (game) => {\n    var platform = \"\";\n    if (\n      game.title.indexOf(\"PlayStation 4\") >= 0 ||\n      game.title.indexOf(\"PS4\") >= 0\n    ) {\n      platform = \"PlayStation 4\";\n    } else if (\n      game.title.indexOf(\"PlayStation 3\") >= 0 ||\n      game.title.indexOf(\"PS3\") >= 0\n    ) {\n      platform = \"PlayStation 3\";\n    } else if (game.title.indexOf(\"Xbox One\") >= 0) {\n      platform = \"Xbox One\";\n    } else if (game.title.indexOf(\"Xbox 360\") >= 0) {\n      platform = \"Xbox 360\";\n    } else if (game.title.indexOf(\"Nintendo Switch\") >= 0) {\n      platform = \"Nintendo Switch\";\n    } else if (game.title.indexOf(\"PlayStation Vita\") >= 0) {\n      platform = \"PlayStation Vita\";\n    } else if (game.title.indexOf(\"PC\") >= 0) {\n      platform = \"PC\";\n    }\n\n    navigation.navigate(\"Add to your Library\", {\n      screen: \"Games\",\n      params: { title: game.title, brand: game.brand, platform: platform },\n    });\n  };\n\n  const handleBarCodeScanned = async ({ type, data }) => {\n    var x;\n\n    setScanned(true);\n    //alert(`Bar code with type ${type} and data ${data} has been scanned!`);\n    //alert(`Barcode number is ${data}`);\n\n    //navigation.push('Home', null);\n\n    var api = \"https://api.upcitemdb.com/prod/trial/lookup?upc=\" + data.trim();\n\n    await fetch(api)\n      .then((response) => response.json())\n      .then((responseJson) => {\n        responseJson.items.forEach((element) => {\n          x = element;\n        });\n      })\n      .then(() => {\n        if (\n          x.category.indexOf(\"Books\") >= 0 ||\n          x.category.indexOf(\"Book\") >= 0\n        ) {\n          handleBook(x);\n        } else if (\n          x.category.indexOf(\"Video Game\") >= 0 ||\n          x.category.indexOf(\"Games\") >= 0 ||\n          x.category.indexOf(\"Game\") >= 0\n        ) {\n          handleGame(x);\n        } else if (x.category.indexOf(\"Televisions\") >= 0) {\n          handleMovie(x);\n        } else if (x.category.indexOf(\"Music\") >= 0) {\n          handleMusic(x);\n        } else {\n          Alert.alert(\"Illegal item scanned\");\n          navigation.goBack();\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        Alert.alert(\n          \"You've reached the daily scan limit of 100 items. Scan at a later time.\"\n        );\n        navigation.goBack();\n      });\n  };\n\n  if (hasPermission === null) {\n    return <Text>Requesting for camera permission</Text>;\n  }\n  if (hasPermission === false) {\n    return <Text>No access to camera</Text>;\n  }\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        flexDirection: \"column\",\n        justifyContent: \"flex-end\",\n      }}\n    >\n      <BarCodeScanner\n        onBarCodeScanned={scanned ? undefined : handleBarCodeScanned}\n        style={StyleSheet.absoluteFillObject}\n      />\n\n      {scanned && (\n        <Button title={\"Tap to Scan Again\"} onPress={() => setScanned(false)} />\n      )}\n\n      {scanned && (\n        <Button\n          title={\"Continue\"}\n          onPress={() => navigation.navigate(\"Home\")}\n        />\n      )}\n    </View>\n  );\n}\n\nfunction drawer() {\n  return (\n    <DrawerNav.Navigator\n      drawerContent={(props) => <DrawerContent {...props} />}\n    >\n      <DrawerNav.Screen name=\"Home\" component={Home}></DrawerNav.Screen>\n    </DrawerNav.Navigator>\n  );\n}\n\nfunction addItemsManuallyStack() {\n  return (\n    <MaterialTopTabs.Navigator\n      tabBarOptions={{\n        style: { backgroundColor: \"#272727\" },\n\n        showIcon: true,\n        activeTintColor: \"#BB86FC\",\n        inactiveTintColor: \"white\",\n      }}\n    >\n      <MaterialTopTabs.Screen\n        name=\"Games\"\n        component={Games}\n        initialParams={{ title: \"\", brand: \"\", platform: \"\" }}\n        options={{\n          tabBarIcon: ({ color }) => (\n            <FontAwesome name=\"gamepad\" size={19} color={color} />\n          ),\n        }}\n      ></MaterialTopTabs.Screen>\n      <MaterialTopTabs.Screen\n        name=\"Movies\"\n        component={Movies}\n        initialParams={{ title: \"\" }}\n        options={{\n          tabBarIcon: ({ color }) => (\n            <FontAwesome name=\"film\" size={19} color={color} />\n          ),\n        }}\n      ></MaterialTopTabs.Screen>\n      <MaterialTopTabs.Screen\n        name=\"Music\"\n        component={Music}\n        initialParams={{ title: \"\" }}\n        options={{\n          tabBarIcon: ({ color }) => (\n            <FontAwesome name=\"music\" size={19} color={color} />\n          ),\n        }}\n      ></MaterialTopTabs.Screen>\n      <MaterialTopTabs.Screen\n        name=\"Books\"\n        component={Books}\n        initialParams={{ title: \"\" }}\n        options={{\n          tabBarIcon: ({ color }) => (\n            <FontAwesome name=\"book\" size={19} color={color} />\n          ),\n        }}\n      ></MaterialTopTabs.Screen>\n    </MaterialTopTabs.Navigator>\n  );\n}\n\nfunction homeStack() {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator\n        screenOptions={{ headerStyle: { backgroundColor: \"#272727\" } }}\n      >\n        <Stack.Screen\n          name=\"Home\"\n          children={drawer}\n          options={{\n            headerShown: false,\n\n            headerStyle: { backgroundColor: \"#272727\" },\n          }}\n        />\n        <Stack.Screen\n          name=\"Add to your Library\"\n          children={addItemsManuallyStack}\n          options={{\n            headerTintColor: \"#ffffff\",\n            headerStyle: { backgroundColor: \"#272727\" },\n          }}\n        />\n        <Stack.Screen\n          name=\"Library\"\n          component={Library}\n          options={{\n            headerTintColor: \"#ffffff\",\n            headerShown: false,\n            headerStyle: { backgroundColor: \"#272727\" },\n          }}\n        />\n        <Stack.Screen\n          name=\"Scan\"\n          component={ScanScreen}\n          options={{\n            headerTintColor: \"#ffffff\",\n            headerStyle: { backgroundColor: \"#272727\" },\n          }}\n        />\n        <Stack.Screen\n          name=\"Search\"\n          component={Search}\n          options={{\n            headerTintColor: \"#ffffff\",\n            headerStyle: { backgroundColor: \"#272727\" },\n          }}\n        />\n        <Stack.Screen\n          name=\"Friend Requests\"\n          component={Requests}\n          options={{\n            headerTintColor: \"#ffffff\",\n            headerStyle: { backgroundColor: \"#272727\" },\n          }}\n        />\n        <Stack.Screen\n          name=\"Friends\"\n          component={Friends}\n          options={{\n            headerTintColor: \"#ffffff\",\n            headerStyle: { backgroundColor: \"#272727\" },\n          }}\n        />\n        <Stack.Screen\n          name=\"Profile\"\n          component={Profile}\n          initialParams={{ ID: \"\" }}\n          options={{\n            headerTintColor: \"#ffffff\",\n            headerStyle: { backgroundColor: \"#272727\" },\n          }}\n        />\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n\nfunction loginStack() {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator>\n        <Stack.Screen\n          options={{\n            headerTitle: \"Welcome\",\n            headerStyle: { backgroundColor: \"#272727\" },\n            headerTintColor: \"#ffffff\",\n            headerTitleStyle: { alignSelf: \"center\" },\n          }}\n          name=\"LoginSignup\"\n          component={LoginSignup}\n        />\n        <Stack.Screen\n          options={{\n            headerTitle: \"LOGIN\",\n            headerStyle: { backgroundColor: \"#272727\" },\n            headerTintColor: \"#ffffff\",\n          }}\n          name=\"Login\"\n          component={Login}\n        />\n        <Stack.Screen\n          options={{\n            headerTitle: \"SIGNUP\",\n            headerStyle: { backgroundColor: \"#272727\" },\n            headerTintColor: \"#ffffff\",\n          }}\n          name=\"Signup\"\n          component={Signup}\n        />\n        <Stack.Screen\n          options={{\n            headerTitle: \"Forgot Password\",\n            headerStyle: { backgroundColor: \"#272727\" },\n            headerTintColor: \"#ffffff\",\n          }}\n          name=\"ForgotPassword\"\n          component={ForgotPassword}\n        />\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n\nexport default class App extends Component {\n  state = {\n    user: {},\n  };\n\n  componentDidMount() {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user });\n      } else {\n        this.setState({ user: null });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.user) {\n      return homeStack();\n    } else {\n      return loginStack();\n    }\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n\nconst styles_1 = StyleSheet.create({\n  drawerContent: {\n    flex: 1,\n  },\n  userInfoSection: {\n    paddingLeft: 20,\n  },\n  title: {\n    fontSize: 16,\n    marginTop: 3,\n    fontWeight: \"bold\",\n  },\n  caption: {\n    fontSize: 14,\n    lineHeight: 14,\n  },\n  row: {\n    marginTop: 20,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  section: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginRight: 15,\n  },\n  paragraph: {\n    fontWeight: \"bold\",\n    marginRight: 3,\n  },\n  drawerSection: {\n    marginTop: 15,\n  },\n  bottomDrawerSection: {\n    marginBottom: 15,\n    borderTopColor: \"#f4f4f4\",\n    borderTopWidth: 1,\n  },\n  preference: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}